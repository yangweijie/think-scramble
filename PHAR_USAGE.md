# ThinkScramble è·¨å¹³å° CLI ä½¿ç”¨æŒ‡å—

## ğŸ‰ æ„å»ºæˆåŠŸï¼

ThinkScramble å·²æˆåŠŸæ‰“åŒ…ä¸ºè·¨å¹³å° CLI å¯æ‰§è¡Œæ–‡ä»¶ï¼Œæ”¯æŒ Linuxã€macOS å’Œ Windows ç³»ç»Ÿã€‚

## ğŸ“¦ ç”Ÿæˆçš„æ–‡ä»¶

```
dist/
â”œâ”€â”€ scramble.phar              # ä¸»è¦ PHAR æ–‡ä»¶ï¼ˆè·¨å¹³å°ï¼‰
â”œâ”€â”€ scramble-linux             # Linux/macOS å¯æ‰§è¡Œæ–‡ä»¶
â”œâ”€â”€ scramble.bat               # Windows æ‰¹å¤„ç†æ–‡ä»¶
â”œâ”€â”€ scramble.ps1               # Windows PowerShell è„šæœ¬
â”œâ”€â”€ install.sh                 # Linux/macOS å®‰è£…è„šæœ¬
â”œâ”€â”€ install.bat                # Windows å®‰è£…è„šæœ¬
â”œâ”€â”€ README.txt                 # ä½¿ç”¨è¯´æ˜
â””â”€â”€ think-scramble-1.4.0.zip   # å®Œæ•´å‘å¸ƒåŒ…
```

## ğŸš€ å®‰è£…æ–¹å¼

### Linux/macOS å®‰è£…

#### æ–¹æ³• 1: è‡ªåŠ¨å®‰è£…ï¼ˆæ¨èï¼‰
```bash
# ä¸‹è½½å¹¶å®‰è£…
sudo ./dist/install.sh
```

#### æ–¹æ³• 2: æ‰‹åŠ¨å®‰è£…
```bash
# å¤åˆ¶åˆ°ç³»ç»Ÿè·¯å¾„
sudo cp dist/scramble-linux /usr/local/bin/scramble
sudo chmod +x /usr/local/bin/scramble

# éªŒè¯å®‰è£…
scramble --version
```

#### æ–¹æ³• 3: æœ¬åœ°ä½¿ç”¨
```bash
# ç›´æ¥ä½¿ç”¨ PHAR æ–‡ä»¶
php dist/scramble.phar --version

# æˆ–ä½¿ç”¨ Linux å¯æ‰§è¡Œæ–‡ä»¶
./dist/scramble-linux --version
```

### Windows å®‰è£…

#### æ–¹æ³• 1: è‡ªåŠ¨å®‰è£…
```cmd
# ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ
dist\install.bat
```

#### æ–¹æ³• 2: æ‰‹åŠ¨å®‰è£…
```cmd
# åˆ›å»ºç›®å½•
mkdir %USERPROFILE%\bin

# å¤åˆ¶æ–‡ä»¶
copy dist\scramble.phar %USERPROFILE%\bin\
copy dist\scramble.bat %USERPROFILE%\bin\

# æ·»åŠ åˆ° PATHï¼ˆå¯é€‰ï¼‰
# å°† %USERPROFILE%\bin æ·»åŠ åˆ°ç³»ç»Ÿ PATH ç¯å¢ƒå˜é‡
```

#### æ–¹æ³• 3: ç›´æ¥ä½¿ç”¨
```cmd
# ä½¿ç”¨æ‰¹å¤„ç†æ–‡ä»¶
dist\scramble.bat --version

# æˆ–ç›´æ¥ä½¿ç”¨ PHP
php dist\scramble.phar --version
```

## ğŸ’» ä½¿ç”¨ç¤ºä¾‹

### åŸºæœ¬ç”¨æ³•

```bash
# æ˜¾ç¤ºç‰ˆæœ¬
scramble --version

# æ˜¾ç¤ºå¸®åŠ©
scramble --help

# ç”ŸæˆåŸºæœ¬æ–‡æ¡£
scramble --output=api.json

# ç”Ÿæˆ YAML æ ¼å¼æ–‡æ¡£
scramble --output=api.yaml
```

### é«˜çº§åŠŸèƒ½

```bash
# åŒ…å«ä¸­é—´ä»¶åˆ†æ
scramble --output=api.json --middleware

# æŒ‡å®šæ§åˆ¶å™¨å’Œæ¨¡å‹ç›®å½•
scramble --output=api.json --controllers=app/controller --models=app/model

# å¯¼å‡ºä¸º Postman Collection
scramble --format=postman --output=api.postman.json

# å¯¼å‡ºä¸º Insomnia Workspace
scramble --format=insomnia --output=api.insomnia.json

# æ˜¾ç¤ºç»Ÿè®¡ä¿¡æ¯
scramble --stats

# å®æ—¶ç›‘æ§æ–‡ä»¶å˜åŒ–
scramble --watch --output=api.json

# éªŒè¯é…ç½®
scramble --validate --config=scramble.php
```

### åœ¨ ThinkPHP é¡¹ç›®ä¸­ä½¿ç”¨

```bash
# è¿›å…¥ ThinkPHP é¡¹ç›®ç›®å½•
cd /path/to/your/thinkphp/project

# ç”Ÿæˆå®Œæ•´çš„ API æ–‡æ¡£
scramble --output=public/api.json --middleware --controllers=app/controller --models=app/model

# ç›‘æ§å¼€å‘æ—¶çš„æ–‡ä»¶å˜åŒ–
scramble --watch --output=public/api.json --middleware
```

## ğŸ”§ é…ç½®æ–‡ä»¶

åˆ›å»º `scramble.php` é…ç½®æ–‡ä»¶ï¼š

```php
<?php

return [
    'info' => [
        'title' => 'My API',
        'version' => '1.0.0',
        'description' => 'API documentation generated by ThinkScramble',
    ],
    'servers' => [
        ['url' => 'http://localhost:8000', 'description' => 'Development server'],
        ['url' => 'https://api.example.com', 'description' => 'Production server'],
    ],
    'security' => [
        'enabled_schemes' => ['BearerAuth', 'ApiKeyAuth'],
    ],
    'cache' => [
        'driver' => 'file',
        'file' => [
            'path' => sys_get_temp_dir() . '/think-scramble-cache',
        ],
    ],
];
```

## ğŸ“Š æ€§èƒ½ç‰¹æ€§

### ç¼“å­˜ä¼˜åŒ–
- æ™ºèƒ½æ–‡ä»¶ç¼“å­˜ï¼ŒåŸºäºä¿®æ”¹æ—¶é—´
- å†…å­˜ç¼“å­˜æ”¯æŒ
- ç¼“å­˜å‘½ä¸­ç‡ç»Ÿè®¡

### æ€§èƒ½ç›‘æ§
- æ‰§è¡Œæ—¶é—´ç»Ÿè®¡
- å†…å­˜ä½¿ç”¨ç›‘æ§
- æ€§èƒ½å»ºè®®

### æ’ä»¶ç³»ç»Ÿ
- å¯æ‰©å±•çš„é’©å­ç³»ç»Ÿ
- è‡ªå®šä¹‰æ’ä»¶æ”¯æŒ
- æ’ä»¶ç®¡ç†

## ğŸŒ è·¨å¹³å°å…¼å®¹æ€§

### æ”¯æŒçš„ç³»ç»Ÿ
- âœ… Linux (x86_64, ARM64)
- âœ… macOS (Intel, Apple Silicon)
- âœ… Windows (x86_64)
- âœ… FreeBSD
- âœ… å…¶ä»– Unix-like ç³»ç»Ÿ

### PHP ç‰ˆæœ¬è¦æ±‚
- PHP 8.0+
- æ¨è PHP 8.1+

### ä¾èµ–è¦æ±‚
- æ— éœ€é¢å¤–å®‰è£…ä¾èµ–
- æ‰€æœ‰ä¾èµ–å·²æ‰“åŒ…åœ¨ PHAR ä¸­

## ğŸš¨ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. æƒé™é”™è¯¯
```bash
# Linux/macOS
chmod +x scramble-linux
sudo chmod +x /usr/local/bin/scramble

# Windows
# ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œå‘½ä»¤æç¤ºç¬¦
```

#### 2. PHP ç‰ˆæœ¬ä¸å…¼å®¹
```bash
# æ£€æŸ¥ PHP ç‰ˆæœ¬
php --version

# å¦‚æœç‰ˆæœ¬è¿‡ä½ï¼Œè¯·å‡çº§ PHP åˆ° 8.0+
```

#### 3. å†…å­˜ä¸è¶³
```bash
# å¢åŠ  PHP å†…å­˜é™åˆ¶
php -d memory_limit=512M scramble.phar --output=api.json
```

#### 4. æ–‡ä»¶è·¯å¾„é—®é¢˜
```bash
# ä½¿ç”¨ç»å¯¹è·¯å¾„
/usr/local/bin/scramble --output=/full/path/to/api.json

# æˆ–ç¡®ä¿åœ¨æ­£ç¡®çš„ç›®å½•ä¸­è¿è¡Œ
cd /path/to/thinkphp/project
scramble --output=api.json
```

### è°ƒè¯•æ¨¡å¼

```bash
# å¯ç”¨è¯¦ç»†è¾“å‡º
scramble --output=api.json --verbose

# æ˜¾ç¤ºæ€§èƒ½ç»Ÿè®¡
scramble --stats

# éªŒè¯é…ç½®
scramble --validate
```

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–å»ºè®®

### 1. ä½¿ç”¨ç¼“å­˜
```bash
# å¯ç”¨æ–‡ä»¶ç¼“å­˜ï¼ˆé»˜è®¤å¯ç”¨ï¼‰
scramble --output=api.json

# æŸ¥çœ‹ç¼“å­˜ç»Ÿè®¡
scramble --stats
```

### 2. é™åˆ¶æ‰«æèŒƒå›´
```bash
# åªæ‰«æç‰¹å®šç›®å½•
scramble --controllers=app/api --models=app/model --output=api.json
```

### 3. ä½¿ç”¨é…ç½®æ–‡ä»¶
```bash
# ä½¿ç”¨é…ç½®æ–‡ä»¶é¿å…é‡å¤å‚æ•°
scramble --config=scramble.php --output=api.json
```

## ğŸ”„ æ›´æ–°å’Œç»´æŠ¤

### æ£€æŸ¥æ›´æ–°
```bash
# æŸ¥çœ‹å½“å‰ç‰ˆæœ¬
scramble --version

# è®¿é—® GitHub Releases é¡µé¢æ£€æŸ¥æ–°ç‰ˆæœ¬
# https://github.com/yangweijie/think-scramble/releases
```

### é‡æ–°å®‰è£…
```bash
# Linux/macOS
sudo rm /usr/local/bin/scramble
sudo ./install.sh

# Windows
# åˆ é™¤æ—§æ–‡ä»¶å¹¶é‡æ–°è¿è¡Œ install.bat
```

## ğŸ“ è·å–å¸®åŠ©

### æ–‡æ¡£èµ„æº
- [GitHub Repository](https://github.com/yangweijie/think-scramble)
- [ä½¿ç”¨æ–‡æ¡£](docs/)
- [æ„å»ºæŒ‡å—](docs/build.md)

### é—®é¢˜åé¦ˆ
- [GitHub Issues](https://github.com/yangweijie/think-scramble/issues)
- [è®¨è®ºåŒº](https://github.com/yangweijie/think-scramble/discussions)

### ç¤¾åŒºæ”¯æŒ
- æäº¤ Bug æŠ¥å‘Š
- åŠŸèƒ½è¯·æ±‚
- è´¡çŒ®ä»£ç 

---

ğŸ‰ **æ­å–œï¼** ThinkScramble ç°åœ¨å·²ç»æ˜¯ä¸€ä¸ªå®Œå…¨ç‹¬ç«‹çš„è·¨å¹³å° CLI å·¥å…·ï¼Œå¯ä»¥åœ¨ä»»ä½•æ”¯æŒ PHP çš„ç³»ç»Ÿä¸Šè¿è¡Œï¼Œæ— éœ€é¢å¤–ä¾èµ–ï¼
